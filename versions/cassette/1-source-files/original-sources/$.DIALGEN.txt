   10 REM Generate new DIALS bitdump
   20 
   30 XMAX=68*4:YMAX=18*4: REM Ellipse
   32 CYC=53*4:CXC=196*4:RD=11*4
   35 XC=125*4:YC=35*4
   36 PHI=PI/10:PSI=3*PI/4.1
   37 MODE5
   40 
   45 DIL%=&6000
   50 *LOAD :2.NDIALS 7600
   53 REMGCOL0,3:MOVEXC+XMAX*SINPHI,YC+YMAX*COSPHI:PLOT21,XC,YC:PLOT21,XC-XMAX*SINPHI,YC+YMAX*COSPHI
   55 GCOL0,1:MOVEXC+XMAX*SINPHI,YC+YMAX*COSPHI:PLOT21,XC+XMAX*SINPSI,YC+YMAX*COSPSI:MOVEXC-XMAX*SINPHI,YC+YMAX*COSPHI:PLOT21,XC-XMAX*SINPSI,YC+YMAX*COSPSI
   57 MOVEXC-XMAX,YC:PLOT21,XC+XMAX,YC
   58 MOVEXC,YC-YMAX:PLOT21,XC,YC+YMAX-4
   60 GCOL0,1:PROCELLIPSE(XMAX,YMAX,.05)
   65 GCOL0,2:PLOT69,XC,YC:PLOT69,XC-8,YC:PLOT69,XC+8,YC:PLOT69,XC,YC+4:PLOT69,XC,YC-4
   67 FORTHETA=0TO2*PI STEP.1:PLOT69,RD*COSTHETA+CXC,RD*SINTHETA+CYC:NEXT
   68 GCOL0,1:MOVECXC+RD,CYC:PLOT21,CXC-RD,CYC:MOVECXC,CYC+RD:PLOT21,CXC,CYC-RD
   70 FORI%=0TO7:FORJ%=0TO255STEP4:!(J%+DIL%+I%*256)=!(J%+&7600+I%*320):NEXT,
   80 OSCLI"SAVE DIALSHP "+STR$~DIL%+"+800 0000 7800"
  400 END
  500 DEFPROCELLIPSE(A,B,S)
  510 FORTHETA=0TO2*PI STEPS
  520  X%=A*COSTHETA+XC:Y%=B*SINTHETA+YC-4:PLOT69,X%,Y%
  540 NEXT:ENDPROC
