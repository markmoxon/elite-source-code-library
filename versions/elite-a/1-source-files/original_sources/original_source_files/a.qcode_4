encyclopedia:	LDX #$00	JSR menu	CMP #$01	BNE n_shipsag	JMP ships_agn_shipsag	CMP #$02	BNE n_shipskw	JMP ships_kwn_shipskw	CMP #$03	BNE n_equipdat	JMP equip_datan_equipdat	CMP #$04	BNE n_controls	JMP controlsn_controls	CMP #$05	BNE jmp_start3	JMP tradingjmp_start3\	JSR beep_wait\	JMP start_loop	JMP beep_waitships_agships_kw	PHA	TAX	JSR menu	SBC #$00	PLP	BCS ship_over	ADC menu_entry+1ship_over	STA $8C	CLC	ADC #$07	PHA	LDA #$20	JSR clr_scrn	JSR clr_deflowr	LDX $8C	LDA ship_posn,X	TAX	LDY #0	JSR install_ship	LDX $8C	LDA ship_centre,X	STA cursor_x	PLA	JSR write_msg3	JSR hline_19	JSR init_ship	LDA #$60	STA $54	LDA #$B0	STA $4D	LDX #$7F	STX $63	STX $64	INX	STA vdu_stat	LDA $8C	JSR write_card	LDA #0	JSR ins_ship	JSR i_releasei_395a	LDX $8C	LDA ship_dist,X	CMP $4D	BEQ i_3962	DEC $4Di_3962	JSR l_14e1	LDA #$80	STA $4C	ASL A	STA $46	STA $49	JSR l_400f	DEC $8A	JSR check_keys	CPX #0	BEQ i_395a	JMP start_loopcontrols	LDX #$03	JSR menu	ADC #$56	PHA	ADC #$04	PHA	LDA #$20	JSR clr_scrn	JSR clr_deflowr	LDA #$0B	STA cursor_x	PLA	JSR write_msg3	JSR hline_19	JSR set_deflowr	INC cursor_y	PLA	JSR write_msg3	JMP i_restartequip_data	LDX #$04	JSR menu	ADC #$6B	PHA	SBC #$0C	PHA	LDA #$20	JSR clr_scrn	JSR clr_deflowr	LDA #$0B	STA cursor_x	PLA	JSR write_msg3	JSR hline_19	JSR set_deflowr	JSR set_forclwr	INC cursor_y	INC cursor_y	LDA #$01	STA cursor_x	PLA	JSR write_msg3	JMP i_restarttradingi_restart	JSR check_keys	TXA	BEQ i_restart	JMP start_loopcheck_keys	JSR sync	JSR scan_10	CPX #$69	BNE not_freezefreeze_loop	JSR sync	JSR scan_10	CPX #$70	BNE dont_quit	JMP d_1220dont_quit\	CPX #$37\	BNE dont_dump\	JSR printer\dont_dump	CPX #$59	BNE freeze_loopi_release	JSR scan_10	BNE i_release	LDX #0	\ no key was pressednot_freeze	RTSwrite_card	ASL A	TAY	LDA card_addr,Y	STA $22	LDA card_addr+1,Y	STA $23card_repeat	JSR clr_deflowr	LDY #$00	LDA ($22),Y	TAX	BEQ quit_card	BNE card_checkcard_find	INY	INY	INY	LDA card_pattern-1,Y	BNE card_findcard_check	DEX	BNE card_findcard_found	LDA card_pattern,Y	STA cursor_x	LDA card_pattern+1,Y	STA cursor_y	LDA card_pattern+2,Y	BEQ card_details	JSR write_msg3	INY	INY	INY	BNE card_foundcard_details	JSR set_deflowr	LDY #$00card_loop	INY	LDA ($22),Y	BEQ card_end	BMI card_msg	CMP #$20	BCC card_macro	JSR msg_alpha	JMP card_loopcard_macro	JSR msg_macro	JMP card_loopcard_msg	CMP #$D7	BCS card_pairs	AND #$7F	JSR write_msg3	JMP card_loopcard_pairs	JSR msg_pairs	JMP card_loopcard_end	TYA	SEC	ADC $22	STA $22	BCC card_repeat	INC $23	BCS card_repeatquit_card	RTSship_posn	EQUB 20, 13, 23, 12, 33, 37, 22	EQUB 10,  1,  0,  2, 24, 21, 32	EQUB 35, 19, 18, 30, 25, 31, 11	EQUB  8, 17, 26, 27,  9, 16, 14ship_dist	EQUB $01, $02, $01, $02, $01, $01, $01	EQUB $02, $04, $04, $01, $01, $01, $02	EQUB $01, $02, $01, $02, $01, $01, $02	EQUB $01, $01, $03, $01, $01, $01, $01menu	LDA menu_entry,X	STA $03AB	LDA menu_offset,X	STA $03AD	LDA menu_query,X	PHA	LDA menu_title,X		PHA	LDA menu_titlex,X	PHA	LDA #$20	JSR clr_scrn	JSR clr_deflowr	PLA	STA cursor_x	PLA	JSR write_msg3	JSR hline_19	INC cursor_y	LDX #$00menu_loop	STX $89	JSR new_line	LDX $89	INX	CLC	JSR writed_3	JSR price_spc	JSR set_deflowr	LDA #$80	STA vdu_stat	CLC	LDA $89	ADC $03AD	JSR write_msg3	LDX $89	INX	CPX $03AB	BCC menu_loop	JSR clr_line	PLA	JSR write_msg3	LDA #'?'	JSR punctuate	JSR buy_quant	BEQ menu_start	BCS menu_start	RTSmenu_start	JMP start_loopmenu_title	EQUB $01, $02, $03, $05, $04menu_titlex	EQUB $05, $0C, $0C, $0C, $0Bmenu_offset	EQUB $02, $07, $15, $5B, $5Fmenu_entry	EQUB $04, $0E, $0E, $04, $0Dmenu_query	EQUB $06, $43, $43, $05, $04ship_centre	EQUB $0D, $0C, $0C, $0B, $0D, $0C, $0B	EQUB $0B, $08, $07, $09, $0A, $0D, $0C	EQUB $0D, $0D, $0D, $0C, $0D, $0C, $0D	EQUB $0C, $0B, $0C, $0C, $0A, $0D, $0Ecard_pattern:	EQUB  1,  3, $25	\ inservice date	EQUB  1,  4, $00	EQUB 24,  6, $26	\ combat factor	EQUB 24,  7, $2F	EQUB 24,  8, $41	EQUB 26,  8, $00	EQUB  1,  6, $2B	\ dimensions	EQUB  1,  7, $00	EQUB  1,  9, $24	\ speed	EQUB  1, 10, $00	EQUB 24, 10, $27	\ crew	EQUB 24, 11, $00	EQUB 24, 13, $29	\ range	EQUB 24, 14, $00	EQUB  1, 12, $3D	\ cargo space	EQUB  1, 13, $2D	EQUB  1, 14, $00	EQUB  1, 16, $23	\ armaments	EQUB  1, 17, $00	EQUB 23, 20, $2C	\ hull	EQUB 23, 21, $00	EQUB  1, 20, $28	\ drive motors	EQUB  1, 21, $00	EQUB  1, 20, $2D	\ space	EQUB  1, 21, $00card_addr:	EQUW adder, anaconda, asp_2, boa, bushmaster, chameleon, cobra_1	EQUW cobra_3, coriolis, dodecagon, escape_pod	EQUW fer_de_lance, gecko, ghavial	EQUW iguana, krait, mamba, monitor, moray, ophidian, python	EQUW shuttle, sidewinder, thargoid, thargon	EQUW transporter, viper, wormadder	EQUB 1	EQUA "2914|!U|!E|!Q"	EQUB 0, 2	EQUA "6"	EQUB 0, 3	EQUA "45/8/30|!*"	EQUB 0, 4	EQUA "0.24|!@"	EQUB 0, 5	EQUA "1"	EQUB 0, 6	EQUA "6|!?"	EQUB 0, 7	EQUA "4|!>"	EQUB 0, 8	EQUA "|!8 1928 AZ |!wam|!1|L|!0|!."	EQUB 0, 9	EQUA "D4-18|!S"	EQUB 0, 10	EQUA "AM 18 |!j |!B"	EQUB 0, 0anaconda	EQUB 1	EQUA "2856|!URiml|!p|!t G|!dac|!{c)"	EQUB 0, 2	EQUA "3"	EQUB 0, 3	EQUA "170/60/75|!*"	EQUB 0, 4	EQUA "0.14|!@"	EQUB 0, 5	EQUA "2-10"	EQUB 0, 6	EQUA "10|!?"	EQUB 0, 7	EQUA "245|!>"	EQUB 0, 8	EQUA "|!; Hi-|!xd|!2|!1|L|!0|!."	EQUB 0, 9	EQUA "M8-**|!T"	EQUB 0, 10	EQUA "|!I32.24|L|!tg|!o|!^|!ts"	EQUB 0, 0asp_2	EQUB 1	EQUA "2878|!UG|!dcop|!Q"	EQUB 0, 2	EQUA "6"	EQUB 0, 3	EQUA "70/20/65|!*"	EQUB 0, 4	EQUA "0.40|!@"	EQUB 0, 5	EQUA "1"	EQUB 0, 6	EQUA "12.5|!?"	EQUB 0, 7	EQUA "0|!>"	EQUB 0, 8	EQUA "|!;-|!:Bur|!^|!1|L|!0|!."	EQUB 0, 9	EQUA "J6-31|!R"	EQUB 0, 10	EQUA "|!< Whip|!ysh|L|AHK|B |!2|!5"	EQUB 0, 0boa	EQUB 1	EQUA "3017|!U|!g|!r|!g |!L)"	EQUB 0, 2	EQUA "4"	EQUB 0, 3	EQUA "115/60/65|!*"	EQUB 0, 4	EQUA "0.24|!@"	EQUB 0, 5	EQUA "2-6"	EQUB 0, 6	EQUA "9|!?"	EQUB 0, 7	EQUA "125|!>"	EQUB 0, 8	EQUA "|!4|!1|!3|L|!V|!6 & |!O|!."	EQUB 0, 9	EQUA "J7-24|!S"	EQUB 0, 10	EQUA "|!H|L|!6|!7 |!B|!ts"	EQUB 0, 0bushmaster	EQUB 1	EQUA "3001|!U|!_ri|!x |!}b|![|!d)"	EQUB 0, 2	EQUA "8"	EQUB 0, 3	EQUA "50/20/50|!*"	EQUB 0, 4	EQUA "0.35|!@"	EQUB 0, 5	EQUA "1-2"	EQUB 0, 8	EQUA "Du|!d 22-18|!1|L|!0|!."\	EQUB 0, 9\	EQUA "3|!R"	EQUB 0, 10	EQUA "|!< Whip|!ysh|L|AHT|B |!2|!5"	EQUB 0, 0chameleon	EQUB 1	EQUA "3122|!U|!nd|!v Co-op|!ta|!{|!z)"	EQUB 0, 2	EQUA "6"	EQUB 0, 3	EQUA "75/24/40|!*"	EQUB 0, 4	EQUA "0.29|!@"	EQUB 0, 5	EQUA "1-4"	EQUB 0, 6	EQUA "8|!?"	EQUB 0, 7	EQUA "30|!>"	EQUB 0, 8	EQUA "|!8 Mega|!J|!2|!1|L|!6|!t X3|!."	EQUB 0, 9	EQUA "H5-23|!S"	EQUB 0, 10	EQUA "|!< |!^|!pg|!t|LPul|!Z|!5"	EQUB 0, 0cobra_1	EQUB 1	EQUA "2855|!UPayn|!Y, |!P& S|!dem)"	EQUB 0, 2	EQUA "5"	EQUB 0, 3	EQUA "55/15/70|!*"	EQUB 0, 4	EQUA "0.26|!@"	EQUB 0, 5	EQUA "1"	EQUB 0, 6	EQUA "6|!?"	EQUB 0, 7	EQUA "10|!>"	EQUB 0, 8	EQUA "|!; V|!nisc|!|?|!1|L|!9|!."	EQUB 0, 9	EQUA "E4-20|!T"	EQUB 0, 10	EQUA "|!P|!5"	EQUB 0, 0cobra_3	EQUB 1	EQUA "3100|!UCowell & Mg|S|!x|!b, |!y|!z)"	EQUB 0, 2	EQUA "7"	EQUB 0, 3	EQUA "65/30/130|!*"	EQUB 0, 4	EQUA "0.28|!@"	EQUB 0, 5	EQUA "1-3"	EQUB 0, 6	EQUA "7|!?"	EQUB 0, 7	EQUA "35|!>"	EQUB 0, 8	EQUA "|!8|!1|!3|L|!9|!."	EQUB 0, 9	EQUA "G7-24|!T"	EQUB 0, 10	EQUA "|!:|!7fa|!^|LIrrik|!|? Thru|!M"	EQUB 0, 0coriolis	EQUB 1	EQUA "2752|!K"	EQUB 0, 3	EQUA "1/1/1km"	EQUB 0, 11	EQUA "2000|!Cs"	EQUB 0, 0dodecagon	EQUB 1	EQUA "3152|!K"	EQUB 0, 3	EQUA "1/1/1km"	EQUB 0, 11	EQUA "2700|!Cs"	EQUB 0, 0escape_pod	EQUB 1	EQUA "p|!r-2500"	EQUB 0, 3	EQUA "10/5/5|!*"	EQUB 0, 4	EQUA "0.08|!@"	EQUB 0, 5	EQUA "1-2"	EQUB 0, 0fer_de_lance	EQUB 1	EQUA "3100|!U|!F"	EQUB 0, 2	EQUA "6"	EQUB 0, 3	EQUA "85/20/45|!*"	EQUB 0, 4	EQUA "0.30|!@"	EQUB 0, 5	EQUA "1-3"	EQUB 0, 6	EQUA "8.5|!?"	EQUB 0, 7	EQUA "2|!>"	EQUB 0, 8	EQUA "|!4|!1|!3|L|!V|!6 & |!O|!."	EQUB 0, 9	EQUA "H7-28|!T"	EQUB 0, 10	EQUA "T|![r|!_ix |!pt|!tsun|L|ALT|B |!N"	EQUB 0, 0gecko	EQUB 1	EQUA "2852|!UA|!i & F|!X|!t, |!e|!r|!y|!i)"	EQUB 0, 2	EQUA "7"	EQUB 0, 3	EQUA "40/12/65|!*"	EQUB 0, 4	EQUA "0.30|!@"	EQUB 0, 5	EQUA "1-2"	EQUB 0, 6	EQUA "7|!?"	EQUB 0, 7	EQUA "3|!>"	EQUB 0, 8	EQUA "|!8 1919 A4|!1|L|!@ Hom|!pg|!."	EQUB 0, 9	EQUA "E6-19|!S"	EQUB 0, 10	EQUA "B|!ram|!2|!7 |AXL|B"	EQUB 0, 0ghavial	EQUB 1	EQUA "3077|!U|!nd|!v Co-op|!ta|!{|!z)"	EQUB 0, 2	EQUA "5"	EQUB 0, 3	EQUA "80/30/60|!*"	EQUB 0, 4	EQUA "0.25|!@"	EQUB 0, 5	EQUA "2-7"	EQUB 0, 6	EQUA "8|!?"	EQUB 0, 7	EQUA "50|!>"	EQUB 0, 8	EQUA "Fai|!ry|!2|!1|L|!9|!."	EQUB 0, 9	EQUA "I5-25|!T"	EQUB 0, 10	EQUA "Sp|!dd|!t & Prime |ATT1|B"	EQUB 0, 0iguana	EQUB 1	EQUA "3095|!UFaulc|!_ |!on|!M)"	EQUB 0, 2	EQUA "6"	EQUB 0, 3	EQUA "65/20/40|!*"	EQUB 0, 4	EQUA "0.33|!@"	EQUB 0, 5	EQUA "1-3"	EQUB 0, 6	EQUA "7.5|!?"	EQUB 0, 7	EQUA "15|!>"	EQUB 0, 8	EQUA "|!9|!1|L|!6|!t X1|!."	EQUB 0, 9	EQUA "G6-20|!T"	EQUB 0, 10	EQUA "|!G Sup|!t |!B|L|AVC|B9"	EQUB 0, 0krait	EQUB 1	EQUA "3027|!U|!G|!CW|!}ks, |!p|!p|!m)"	EQUB 0, 2	EQUA "7"	EQUB 0, 3	EQUA "80/20/90|!*"	EQUB 0, 4	EQUA "0.30|!@"	EQUB 0, 5	EQUA "1"	EQUB 0, 7	EQUA "10|!>"	EQUB 0, 8	EQUA "|!4|!1|!3"\	EQUB 0, 9\	EQUA "8|!S"	EQUB 0, 10	EQUA "|!G Sp|!p|!N ZX14"	EQUB 0, 0mamba	EQUB 1	EQUA "3110|!U|!r|!}te|!C |!L)"	EQUB 0, 2	EQUA "8"	EQUB 0, 3	EQUA "55/12/65|!*"	EQUB 0, 4	EQUA "0.30|!@"	EQUB 0, 5	EQUA "1-2"	EQUB 0, 7	EQUA "10|!>"	EQUB 0, 8	EQUA "|!4|!1|!3|L|!V|!6 & |!O|!."\	EQUB 0, 9\	EQUA "7|!R"	EQUB 0, 10	EQUA "|!6|!7 |AHV|B |!B"	EQUB 0, 0monitor	EQUB 1	EQUA "3112|!U|!F"	EQUB 0, 2	EQUA "4"	EQUB 0, 3	EQUA "100/40/50|!*"	EQUB 0, 4	EQUA "0.16|!@"	EQUB 0, 5	EQUA "7-19"	EQUB 0, 6	EQUA "11|!?"	EQUB 0, 7	EQUA "75|!>"	EQUB 0, 8	EQUA "|!:|AHMB|B|!1|L|!0|!."	EQUB 0, 9	EQUA "J6-28|!T"	EQUB 0, 10	EQUA "|!I29.01|L|!7 |!J|!ts"	EQUB 0, 0moray	EQUB 1	EQUA "3028|!UM|!n|!pe T|!rnch Co.)"	EQUB 0, 2	EQUA "7"	EQUB 0, 3	EQUA "60/25/60|!*"	EQUB 0, 4	EQUA "0.25|!@"	EQUB 0, 5	EQUA "1-4"	EQUB 0, 6	EQUA "8|!?"	EQUB 0, 7	EQUA "7|!>"	EQUB 0, 8	EQUA "|!8|!1|!3|L|!0|!."	EQUB 0, 9	EQUA "F4-22|!T"	EQUB 0, 10	EQUA "Turbul|!v |!~|!nk|L|!r-ch|!ng|!t 1287"	EQUB 0, 0ophidian	EQUB 1	EQUA "2981|!U|!E|!Q"	EQUB 0, 2	EQUA "8"	EQUB 0, 3	EQUA "65/15/30|!*"	EQUB 0, 4	EQUA "0.34|!@"	EQUB 0, 5	EQUA "1-3"	EQUB 0, 6	EQUA "7|!?"	EQUB 0, 7	EQUA "20|!>"	EQUB 0, 8	EQUA "|!9|!1|L|!6|!t X1|!."	EQUB 0, 9	EQUA "D4-16|!R"	EQUB 0, 10	EQUA "|!< |!^|!pg|!t|LPul|!Z|!5"	EQUB 0, 0python	EQUB 1	EQUA "2700|!UWh|!ut & Pr|![ney SC)"	EQUB 0, 2	EQUA "3"	EQUB 0, 3	EQUA "130/40/80|!*"	EQUB 0, 4	EQUA "0.20|!@"	EQUB 0, 5	EQUA "2-9"	EQUB 0, 6	EQUA "8|!?"	EQUB 0, 7	EQUA "100|!>"	EQUB 0, 8	EQUA "Volt-|SV|!nisc|!|?|!2|!1"	EQUB 0, 9	EQUA "K6-27|!T"	EQUB 0, 10	EQUA "|!H|LExl|!_ 76NN Model"	EQUB 0, 0shuttle	EQUB 1	EQUA "2856|!USaud-|!:A|!^ro)"	EQUB 0, 2	EQUA "4"	EQUB 0, 3	EQUA "35/20/20|!*"	EQUB 0, 4	EQUA "0.08|!@"	EQUB 0, 5	EQUA "2"	EQUB 0, 7	EQUA "60|!>"	EQUB 0, 10	EQUA "|!I20.20|L|!^|!n|!ot |!5"	EQUB 0, 0sidewinder	EQUB 1	EQUA "2982|!U|!_ri|!x |!}b|![|!d)"	EQUB 0, 2	EQUA "9"	EQUB 0, 3	EQUA "35/15/65|!*"	EQUB 0, 4	EQUA "0.37|!@"	EQUB 0, 5	EQUA "1"	EQUB 0, 8	EQUA "Du|!d 22-18|!1"\	EQUB 0, 9\	EQUA "3|!R"	EQUB 0, 10	EQUA "|!G Sp|!p|!N |AMV|B"	EQUB 0, 0thargoid	EQUB 2	EQUA "6"	EQUB 0, 3	EQUA "180/40/180|!*"	EQUB 0, 4	EQUA "0.39|!@"	EQUB 0, 5	EQUA "50"	EQUB 0, 6	EQUA "Unk|!cwn"	EQUB 0, 8	EQUA "Widely v|!ny|!pg"\	EQUB 0, 9\	EQUA "Unk|!cwn"	EQUB 0, 10	EQUA "|!|^ |!D"	EQUB 0, 0thargon	EQUB 2	EQUA "6"	EQUB 0, 3	EQUA "40/10/35|!*"	EQUB 0, 4	EQUA "0.30|!@"	EQUB 0, 5	EQUA "|!cne"	EQUB 0, 8	EQUA "|!|^|!1"\	EQUB 0, 9\	EQUA "|!cne"	EQUB 0, 10	EQUA "|!|^ |!D"	EQUB 0, 0transporter	EQUB 1	EQUA "p|!r-2500|!U|!ML|!pk|!Cy|!nds)"	EQUB 0, 3	EQUA "35/10/30|!*"	EQUB 0, 4	EQUA "0.10|!@"	EQUB 0, 5	EQUA "5"	EQUB 0, 7	EQUA "10|!>"	EQUB 0, 0viper	EQUB 1	EQUA "2762|!UFaulc|!_ |!on|!M)"	EQUB 0, 2	EQUA "7"	EQUB 0, 3	EQUA "55/20/50|!*"	EQUB 0, 4	EQUA "0.32|!@"	EQUB 0, 5	EQUA "1-10"	EQUB 0, 8	EQUA "|!8 Mega|!J|!2|!1|L|!6|!t X3|!."\	EQUB 0, 9\	EQUA "9|!R"	EQUB 0, 10	EQUA "|!G Sup|!t |!B|L|AVC|B10"	EQUB 0, 0worm	EQUB 1	EQUA "3101"	EQUB 0, 2	EQUA "6"	EQUB 0, 3	EQUA "35/12/35|!*"	EQUB 0, 4	EQUA "0.23|!@"	EQUB 0, 5	EQUA "1"	EQUB 0, 8	EQUA "|!8|!2|!1"\	EQUB 0, 9\	EQUA "3|!R"	EQUB 0, 10	EQUA "|!6|!7 |AHV|B |!B"	EQUB 0, 0install_ship:	\ install ship X in position Y with flags A	TXA	ASL A	PHA	ASL A	TAX	LDA ship_flags,Y	AND #$7F	ORA ship_bytes+1,X	STA ship_flags,Y	TYA	ASL A	TAY	PLA	TAX	LDA ship_list,X	STA ship_data,Y	LDA ship_list+1,X	STA ship_data+1,Y	RTS\printer:\	TXA\	PHA\	LDA #$9C\	JSR tube_write\	JSR tube_read\	PLA\	TAX\	RTS